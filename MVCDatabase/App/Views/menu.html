<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="/index.css">
        <script src="/jquery-3.4.1.min.js"></script>
            <div class="headerOuterDivision">
                <div class="headerTextDiv"><span class="headerText">MVC Ecommerce site</span></div> 
            </div>
    </head>
    <body>
        <div>
        {% block body %}
        {% for menuLabel in menuLabels %}
            <div class="btnDiv"><button class="dropbtn" ><a class="a" href="/{{ menuLabel.urlKey }}">{{ menuLabel.pageTitle }}</a></button></div>
        {% endfor %}
        {% for parentCategory in parentCategories %}
            <div class="dropdown">
                <button class="dropbtn">{{ parentCategory.parentCategoryName }}</button>
                <div class="dropdown-content">
                    {% for category in categories %}
                    {% if parentCategory.parentCategoryID == category.parentCategoryID %}
                    <a href="/category/view/{{ category.urlKey }}">{{ category.categoryName }}</a>
                    {% endif %}
                    {% endfor %}
                </div>
            </div>
        {% endfor %}
       <a href="/cart/displayCart" id="itemCount">cart</a>
    {% endblock %}
         
    <script type="text/javascript">
        window.onload = function count() {
            getItemCount();
        }
        function getItemCount() {
                $.ajax({
                method: 'POST',
                url: '/cart/getCount',
                success: function(data) {
                    alert(data);
                    $('#itemCount').html(data);
                }
            });
        }
    </script>
 </body>
    
        